<f:layout name="Backend/Default" />


<f:section name="Content">

    <f:render partial="Backend/Css/Dashboard" />

    <div class="jobman-dashboard">

        <h1>
            <f:translate key="LLL:EXT:jobman/Resources/Private/Language/locallang_db.xlf:job_manager_headline" />
        </h1>

        <div class="dashboard-grid">

            <!-- Aktive Jobs -->
            <div class="dashboard-card">
                <div class="card-icon">üìÑ</div>
                <div class="card-content">
                    <div class="card-number">
                        {activeJobs}
                    </div>
                    <div class="card-label">
                        <f:translate key="LLL:EXT:jobman/Resources/Private/Language/locallang_db.xlf:active_jobs" />
                    </div>
                </div>
            </div>

            <!-- Abgelaufene Jobs -->
            <div class="dashboard-card">
                <div class="card-icon">‚è≥</div>
                <div class="card-content">
                    <div class="card-number">
                        {expiredJobs}
                    </div>
                    <div class="card-label">
                        <f:translate key="LLL:EXT:jobman/Resources/Private/Language/locallang_db.xlf:inactive_jobs" />
                    </div>
                </div>
            </div>

            <!-- Bewerbungen gesamt -->
            <div class="dashboard-card">
                <div class="card-icon">üì¨</div>
                <div class="card-content">
                    <div class="card-number">
                        {applicationsTotal}
                    </div>
                    <div class="card-label">
                        <f:translate key="LLL:EXT:jobman/Resources/Private/Language/locallang_db.xlf:application_count" />
                    </div>
                </div>
            </div>

            <!-- Bewerbungen letzte 30 Tage -->
            <div class="dashboard-card">
                <div class="card-icon">üÜï</div>
                <div class="card-content">
                    <div class="card-number">
                        {applicationsLast30Days}
                    </div>
                    <div class="card-label">
                        <f:translate key="LLL:EXT:jobman/Resources/Private/Language/locallang_db.xlf:application_30days" />
                    </div>
                </div>
            </div>

        </div>

    </div>


    <!-- Charts -->
    <f:if condition="{applicationsTotal} > 0">
<div 
    id="jobman-dashboard"
    data-months="{chartMonths}"
    data-counts="{chartCounts}"
    data-statuslabels="{statusLabels}"
    data-statuscounts="{statusCounts}"
>
     <div class="jobman-charts">
    <div class="chart-card">
        <h3>
            <f:translate key="LLL:EXT:jobman/Resources/Private/Language/locallang_db.xlf:application_per_month" />
        </h3>
        <canvas id="applicationsChart"></canvas>
    </div>

    <div class="chart-card">
        <h3>
            <f:translate key="LLL:EXT:jobman/Resources/Private/Language/locallang_db.xlf:status_headline" />
        </h3>
        <canvas id="statusChart"></canvas>
    </div>
</div>
</div>

</f:if>

</f:section>